<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Athanor: Experi√™ncia interativa de alquimia qu√¢ntica e psicologia junguiana">
    <meta name="keywords" content="alquimia, psicologia, jung, qu√¢ntica, transmuta√ß√£o, arqu√©tipos">
    <title>Jornada Arquet√≠pica</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;500;600&family=UnifrakturMaguntia&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
</head>
<body>
    <!-- Acessibilidade -->
    <div class="accessibility-bar">
        <button id="highContrast" class="accessibility-btn" aria-label="Alto contraste">
            <i class="fas fa-adjust"></i>
        </button>
        <button id="fontSizeIncrease" class="accessibility-btn" aria-label="Aumentar texto">
            <i class="fas fa-text-height"></i>
        </button>
        <button id="screenReaderToggle" class="accessibility-btn" aria-label="Ativar leitor de tela">
            <i class="fas fa-assistive-listening-systems"></i>
        </button>
    </div>

    <!-- Tutorial Modal -->
    <div id="tutorialModal" class="modal" role="dialog" aria-labelledby="tutorialTitle" hidden>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="tutorialTitle">Bem-vindo ao Athanor</h2>
                <button class="modal-close" aria-label="Fechar tutorial">&times;</button>
            </div>
            <div class="modal-body">
                <div class="tutorial-step active" id="step1">
                    <h3>Jornada Arquet√≠pica</h3>
                    <p>Esta √© uma experi√™ncia interativa que combina psicologia junguiana, alquimia e f√≠sica qu√¢ntica. Voc√™ explorar√° arqu√©tipos atrav√©s da transmuta√ß√£o simb√≥lica.</p>
                    <div class="tutorial-illustration">
                        <div class="symbol-circle">‚öóÔ∏è</div>
                        <div class="arrow">‚Üí</div>
                        <div class="symbol-circle">üß†</div>
                        <div class="arrow">‚Üí</div>
                        <div class="symbol-circle">‚ú®</div>
                    </div>
                </div>
                <div class="tutorial-step" id="step2">
                    <h3>Arqu√©tipos</h3>
                    <p>No painel esquerdo est√£o os arqu√©tipos junguianos. Cada um representa um aspecto do inconsciente coletivo. Clique para ver detalhes ou arraste para o caldeir√£o.</p>
                    <div class="instruction">
                        <i class="fas fa-mouse-pointer"></i> Clique para detalhes
                        <i class="fas fa-arrows-alt-h"></i> Arraste para transmutar
                    </div>
                </div>
                <div class="tutorial-step" id="step3">
                    <h3>Labirinto Qu√¢ntico</h3>
                    <p>No centro, o labirinto representa sua jornada de autoconhecimento. Desenhe caminhos para conectar arqu√©tipos e ativar transmuta√ß√µes.</p>
                    <div class="instruction">
                        <i class="fas fa-draw-polygon"></i> Clique e arraste para desenhar
                    </div>
                </div>
                <div class="tutorial-step" id="step4">
                    <h3>Caldeir√£o</h3>
                    <p>No painel direito, o caldeir√£o √© onde a transmuta√ß√£o ocorre. Solte arqu√©tipos aqui para combin√°-los e descobrir novas s√≠nteses.</p>
                    <div class="instruction">
                        <i class="fas fa-hand-rock"></i> Arraste arqu√©tipos para aqui
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="prevStep">Anterior</button>
                <span class="step-indicator">Passo <span id="currentStep">1</span> de 4</span>
                <button class="btn-primary" id="nextStep">Pr√≥ximo</button>
                <button class="btn-text" id="skipTutorial">Pular</button>
            </div>
        </div>
    </div>

    <!-- Journal Modal -->
    <div id="journalModal" class="modal" role="dialog" aria-labelledby="journalTitle" hidden>
        <div class="modal-content journal-modal">
            <div class="modal-header">
                <h2 id="journalTitle"><i class="fas fa-book-open"></i>Di√°rio Alqu√≠mico</h2>
                <div class="modal-actions">
                    <button class="btn-icon" id="exportJournal" aria-label="Exportar di√°rio">
                        <i class="fas fa-download"></i>
                    </button>
                    <button class="modal-close" aria-label="Fechar di√°rio">&times;</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="journal-stats">
                    <div class="stat-card">
                        <div class="stat-value" id="totalTransmutations">0</div>
                        <div class="stat-label">Transmuta√ß√µes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="uniqueCombinations">0</div>
                        <div class="stat-label">Combina√ß√µes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="alchemicalLevel">I</div>
                        <div class="stat-label">N√≠vel Alqu√≠mico</div>
                    </div>
                </div>
                <div class="journal-entries" id="journalEntries">
                    <!-- Entries will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Achievements Modal -->
 <!-- <div id="achievementsModal" class="modal" role="dialog" aria-labelledby="achievementsTitle" hidden>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="achievementsTitle"><i class="fas fa-trophy"></i> Conquistas Alqu√≠micas</h2>
                <button class="modal-close" aria-label="Fechar conquistas">&times;</button>
            </div>
            <div class="modal-body">
                <div class="achievements-grid" id="achievementsGrid">
                     Achievements will be populated here
                </div>
            </div>
        </div>
    </div>-->

    <!-- Main App -->
    <div class="app-wrapper">
        <!-- Left Panel - Archetypes -->
        <aside class="panel-left" role="complementary" aria-label="Painel de arqu√©tipos">
            <header class="panel-header">
                <h1 class="logo" aria-label="Athanor">
                    <span class="logo-main">ATHANOR</span>
                    <span class="logo-sub">Alquimia Qu√¢ntica</span>
                </h1>
                <div class="panel-actions">
                    <button id="toggleJournal" class="btn-icon" aria-label="Abrir di√°rio">
                        <i class="fas fa-book"></i>
                    </button>
                    <button id="toggleAchievements" class="btn-icon" aria-label="Ver conquistas">
                        <i class="fas fa-trophy"></i>
                    </button>
                    <button id="helpButton" class="btn-icon" aria-label="Ajuda">
                        <i class="fas fa-question-circle"></i>
                    </button>
                </div>
            </header>
            
            <div class="search-box">
                <input type="text" 
                       id="searchArquetipos" 
                       placeholder="Buscar arqu√©tipo..."
                       aria-label="Buscar arqu√©tipos">
                <i class="fas fa-search"></i>
            </div>
            
            <nav class="archetype-categories" role="navigation" aria-label="Categorias de arqu√©tipos">
                <button class="category-btn active" data-category="all">Todos</button>
                <button class="category-btn" data-category="elements">Elementos</button>
                <button class="category-btn" data-category="personas">Personas</button>
                <button class="category-btn" data-category="shadows">Sombras</button>
            </nav>
            
            <section class="scrollable-content" aria-label="Lista de arqu√©tipos">
                <div class="deck-arquetipos" id="deckArquetipos" role="list" aria-label="Cartas de arqu√©tipos">
                    <!-- Archetype cards will be generated here -->
                </div>
            </section>
            
            <div class="status-panel" role="status" aria-live="polite">
                <div class="narrativa-box" id="legendaAlquimia">
                    <div class="narrativa-header">
                        <i class="fas fa-scroll"></i>
                        <span>Inicie a transmuta√ß√£o...</span>
                    </div>
                    <div class="narrativa-content" id="narrativaContent">
                        Selecione um arqu√©tipo para come√ßar sua jornada de autoconhecimento.
                    </div>
                </div>
                <div class="progress-indicator">
                    <div class="progress-label">Progresso da Jornada</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="journeyProgress"></div>
                    </div>
                    <div class="progress-text" id="progressText">0%</div>
                </div>
            </div>
        </aside>

        <!-- Main Canvas Area -->
        <main class="canvas-area" role="main" aria-label="√Årea do labirinto qu√¢ntico">
            <div id="quantum-overlay" aria-hidden="true"></div>
            
            <!-- Canvas Container -->
            <div class="canvas-container">
                <canvas id="labyrinthCanvas" 
                        role="img" 
                        aria-label="Labirinto qu√¢ntico interativo"
                        tabindex="0">
                    <p>Seu navegador n√£o suporta o elemento canvas. Esta √© uma representa√ß√£o visual do labirinto qu√¢ntico onde voc√™ pode desenhar caminhos entre arqu√©tipos.</p>
                </canvas>
                
                <!-- Transmutation Feedback -->
                <div class="transmutation-feedback" id="transmutationFeedback" hidden>
                    <div class="feedback-content">
                        <div class="feedback-icon" id="feedbackIcon">‚ú®</div>
                        <div class="feedback-text" id="feedbackText">Transmuta√ß√£o realizada!</div>
                    </div>
                </div>
                
                <!-- Particle Effects Container -->
                <div id="particleContainer" aria-hidden="true"></div>
            </div>
            
            <!-- Canvas Controls -->
            <div class="canvas-controls" role="toolbar" aria-label="Controles do labirinto">
                <div class="control-group">
                    <label for="selecionarLabirinto" class="control-label">Labirinto:</label>
                    <select id="selecionarLabirinto" class="styled-select" aria-label="Selecionar tipo de labirinto">
                        <option value="mandala">Mandala Qu√¢ntica</option>
                        <option value="spiral">Espiral da Transforma√ß√£o</option>
                        <option value="lattice">Rede de Possibilidades</option>
                        <option value="chaos">Ordem no Caos</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <button id="reiniciarLabirinto" class="btn-icon" aria-label="Reiniciar labirinto">
                        <i class="fas fa-redo"></i>
                    </button>
                    <button id="clearCanvas" class="btn-icon" aria-label="Limpar desenho">
                        <i class="fas fa-eraser"></i>
                    </button>
                    <button id="toggleGrid" class="btn-icon" aria-label="Alternar grade">
                        <i class="fas fa-th"></i>
                    </button>
                </div>
                
                <div class="control-group">
                    <div class="timer-display" aria-label="Tempo de sess√£o">
                        <i class="fas fa-hourglass-half"></i>
                        <span id="time">00:00:00</span>
                    </div>
                    <div class="quantum-state">
                        <i class="fas fa-atom"></i>
                        <span id="quantumState">Superposi√ß√£o</span>
                    </div>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="quick-actions">
                <button class="quick-action-btn" id="quickTransmute" aria-label="Transmuta√ß√£o r√°pida">
                    <i class="fas fa-bolt"></i>
                    <span>Transmutar</span>
                </button>
                <button class="quick-action-btn" id="saveJourney" aria-label="Salvar jornada">
                    <i class="fas fa-save"></i>
                    <span>Salvar</span>
                </button>
                <button class="quick-action-btn" id="shareJourney" aria-label="Compartilhar jornada">
                    <i class="fas fa-share-alt"></i>
                    <span>Compartilhar</span>
                </button>
            </div>
        </main>

        <!-- Right Panel - Alchemical Cauldron -->
        <aside class="panel-right" role="complementary" aria-label="Painel do caldeir√£o alqu√≠mico">
            <header class="panel-header">
                <h2 class="panel-title">
                    <i class="fas fa-mortar-pestle"></i>
                    Caldeir√£o Alqu√≠mico
                </h2>
                <div class="cauldron-stats">
                    <div class="temperature-display">
                        <span class="temp-value" id="cauldronTemp">650¬∞C</span>
                        <span class="temp-label">Temperatura</span>
                    </div>
                </div>
            </header>
            
            <!-- Cauldron Visualization -->
            <div class="caldeirao-container" aria-label="Representa√ß√£o visual do caldeir√£o">
                <div id="caldeiraoAlquimico" class="caldeirao-visual" role="img" aria-label="Caldeir√£o alqu√≠mico ativo">
                    <div class="glow-core"></div>
                    <div class="liquid-layer" id="cauldronLiquid"></div>
                    <div class="bubbles-container" id="cauldronBubbles"></div>
                    <div class="ingredients-display" id="cauldronIngredients">
                        <!-- Ingredients will appear here -->
                    </div>
                    <div class="transmutation-indicator" id="transmutationReady" hidden>
                        <div class="pulse-ring"></div>
                        <div class="ready-text">PRONTO</div>
                    </div>
                </div>
                
                <div class="cauldron-controls">
                    <div class="slider-control">
                        <label for="heatControl">Calor:</label>
                        <input type="range" id="heatControl" min="0" max="1000" value="650" 
                               aria-label="Controlar calor do caldeir√£o">
                    </div>
                    <button id="activateTransmutation" class="btn-cauldron" aria-label="Ativar transmuta√ß√£o">
                        <i class="fas fa-fire"></i>
                        Transmutar
                    </button>
                </div>
            </div>
            
            <!-- Active Elements -->
            <div class="active-elements" aria-label="Elementos ativos no caldeir√£o">
                <h3 class="section-title">Elementos Ativos</h3>
                <div class="elements-grid" id="activeElementsGrid">
                    <!-- Active elements will appear here -->
                </div>
            </div>
            
            <!-- Symbols Grid -->
            <section class="scrollable-content" aria-label="S√≠mbolos alqu√≠micos dispon√≠veis">
                <h3 class="section-title">S√≠mbolos Alqu√≠micos</h3>
                <div class="grid-simbolos" id="gridSimbolos" role="list" aria-label="Grade de s√≠mbolos">
                    <!-- Symbols will be generated here -->
                </div>
            </section>
            
            <!-- Recent Transmutations -->
            <div class="recent-transmutations" aria-label="Transmuta√ß√µes recentes">
                <h3 class="section-title">Transmuta√ß√µes Recentes</h3>
                <div class="transmutation-list" id="recentTransmutations">
                    <!-- Recent transmutations will appear here -->
                </div>
            </div>
        </aside>
    </div>

    <!-- Audio Elements (hidden) -->
    <div class="audio-container" aria-hidden="true">
        <audio id="transmuteSound" preload="auto">
            <source src="assets/sounds/transmute.mp3" type="audio/mpeg">
        </audio>
        <audio id="selectSound" preload="auto">
            <source src="assets/sounds/select.mp3" type="audio/mpeg">
        </audio>
        <audio id="successSound" preload="auto">
            <source src="assets/sounds/success.mp3" type="audio/mpeg">
        </audio>
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen" role="status" aria-live="polite">
        <div class="loading-content">
            <div class="alchemical-symbol loading-animation">‚öóÔ∏è</div>
            <h2>Inicializando Athanor...</h2>
            <div class="loading-progress">
                <div class="loading-bar"></div>
            </div>
            <p class="loading-text" id="loadingText">Carregando arqu√©tipos...</p>
        </div>
    </div>

    <!-- Snackbar for notifications -->
    <div id="snackbar" class="snackbar" role="alert" aria-live="assertive" hidden></div>

    <!-- Keyboard Shortcuts Help -->
    <div id="keyboardHelp" class="keyboard-help" hidden>
        <h3>Atalhos de Teclado</h3>
        <ul>
            <li><kbd>Space</kbd> Pausar/Continuar</li>
            <li><kbd>R</kbd> Reiniciar labirinto</li>
            <li><kbd>J</kbd> Abrir di√°rio</li>
            <li><kbd>A</kbd> Abrir conquistas</li>
            <li><kbd>H</kbd> Ajuda</li>
            <li><kbd>Esc</kbd> Fechar modais</li>
        </ul>
    </div>
        <!-- Bot√£o flutuante para o ecossistema -->
        <button id="ecosystemButton" class="ecosystem-button" title="Ecossistema de Aplica√ß√µes">
            <i class="fas fa-globe"></i>
        </button>

        <!-- Painel do ecossistema -->
        <div id="ecosystemPanel" class="ecosystem-panel">
            <div class="panel-header">
                <h2>üåå Ecossistema de Aplica√ß√µes</h2>
                <button id="closeEcosystemPanel" class="close-button">&times;</button>
            </div>
            <div class="panel-content">
                <ul class="ecosystem-links" id="ecosystemLinks">
                    <!-- Os links ser√£o inseridos aqui via JavaScript -->
                </ul>
            </div>
        </div>

    <!-- Scripts -->
<!-- Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>

<!-- Data -->
<script src="js/data/archetypes.js"></script>
<script src="js/data/fusions.js"></script>
<script src="js/data/narratives.js"></script>

<!-- Core Systems -->
<script src="js/core/CanvasManager.js"></script>
<script src="js/core/ParticleSystem.js"></script>
<script src="js/core/ProgressionSystem.js"></script>
<script src="js/core/QuantumAthanor.js"></script>

<!-- UI Systems -->
<script src="js/ui/JournalManager.js"></script>
<script src="js/ui/AchievementManager.js"></script>
<script src="js/ui/TutorialManager.js"></script>
<script src="js/ui/FeedbackManager.js"></script>

<!-- Utilities -->
<script src="js/utils/helpers.js"></script>
<script src="js/utils/storage.js"></script>

<!-- Main Entry Point -->
<script src="js/ecosystem.js"></script>
<script src="js/init-simple.js"></script>
<script src="js/fix-modals.js"></script>
<script src="js/main.js"></script>
</body>
</html>